<html>
<head>
<title>Insert Records</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

<style type="text/css">
    .wrapper{
        width: 500px;
        margin: 0 auto;
    }
</style>

</head>
<body>

<!-- our form -->
<div class="wrapper">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="page-header">
                    <h2>Create Record</h2>
                </div>
                <p>Please fill this form and submit to add Product details to the database.</p>
<form id="userForm" action="products.php" method="post">
<div class="form-group"> <label>Product Name</label><br><input type='text' id="name" name="name" placeholder='Name' /></div>
<div class="form-group"> <label>Description</label><br><input type='text' name='description' placeholder='description' /></div>
<div class="form-group"> <label>Price</label><br><input type='text' name='price' placeholder='price' /></div>
<div class="form-group"> <label>Created</label><br><input type='text' name='created' placeholder='created' /></div>
<div><input type='submit' value='Submit' /></div>
</form>
</div>
</div>
</div>
</div>

<!-- where the response will be displayed -->
<div id='response'></div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>
$("#userForm").submit(function(event){
    console.log('inside form');
    event.preventDefault(); //prevent default action 
    var post_url = $(this).attr("action"); //get form action url
    var request_method = $(this).attr("method"); //get form GET/POST method
    var formData = $("#userForm").serializeArray();

    console.log(formData);
    $.ajax({
        url:"http://localhost/rest-api-crud-using-php/products",
        type:request_method,
        data: formData,
        success: function (response){
            alert("DATA POSTED SUCCESSFULLY");
            window.location = "read.html";
            console.log(response.status);
        },
        error: function(error){
            console.log('came to error');
        }
        
    });
});


</script>

</body>

</html>